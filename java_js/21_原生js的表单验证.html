<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>原生js的表单验证</title>
	<script>
		/**
		 * 规则：
		 * 用户名：由4-14位的数字或者字母组成
		 * 密码：由6-16位的数字或者字母组成
		 * 确认密码：和密码内容一致
		 * 邮箱：数组或者字母@数字或者字母(.com.cn/.com/.cn..)
		 */
		
		//校验用户名
		function checkUserName() {
			//获取用户名的内容
			var username = document.getElementById("username").value;
			//获取id="user_span"的span标签对象
			var userSpan = document.getElementById("user_span");
			//正则表达式校验
			var reg = /^[a-zA-Z0-9]{4,16}$/;
			if(reg.test(username)) {
				userSpan.innerHTML = "用户名格式正确".fontcolor("green");
				return true;
			}else {
				userSpan.innerHTML = "用户名格式错误".fontcolor("red");
				return false;
			}
		}
		
		//校验密码
		function checkPwd() {
			//获取密码的内容
			var pwd = document.getElementById("pwd").value;
			//获取id="pwd_span"的span标签对象
			var pwdSpan = document.getElementById("pwd_span");
			//正则表达式校验
			var reg = /^[a-zA-Z0-9]{6,16}$/;
			if(reg.test(pwd)) {
				pwdSpan.innerHTML = "密码格式正确".fontcolor("green");
				return true;
			}else {
				pwdSpan.innerHTML = "密码格式错误".fontcolor("red");
				return false;
			}
		}
		
		//确认密码的内容和输入的密码内容一致
		function checkRePwd() {
			//获取密码的内容
			var pwd = document.getElementById("pwd").value;
			//获取确认密码的内容
			var rePwd = document.getElementById("repwd").value;
			//获取id="pwd_span"的span标签对象
			var rePedSpan = document.getElementById("repwd_span");
			//校验
			if(rePwd==pwd) {
					rePedSpan.innerHTML = "密码一致".fontcolor("green");
					return true;
			}else {
				rePedSpan.innerHTML = "密码不一致".fontcolor("red");
				return false;
			}
		}
		
		//校验邮箱
		function checkEmail() {
			//获取输入邮箱的内容
			var email = document.getElementById("email").value;
			//获取id="email_span"的span标签对象
			var email_span = document.getElementById("email_span");
			//正则表达式
			var reg = /^[a-zA-Z0-9]+@[a-zA-Z0-9]+(\.[a-zA-Z]{2,3}){1,2}$/;
			//校验
			if(reg.test(email)) {
				email_span.innerHTML = "邮箱格式正确".fontcolor("green");
				return true;
			}else {
				email_span.innerHTML = "邮箱格式错误".fontcolor("red");
				return false;
			}
		}
		
		//校验全部的表单数据都通过
		function checkAll(){
			//校验四个功能
			if(checkUserName()&&checkPwd()&&checkRePwd()&&checkEmail()) {
				return true;
			}else {
				return false;
			}
		}
	</script>
	</head>
	<body>
		<form action="backend.html" method="post" onsubmit="return checkAll()">
			用户名:<input type="text" onblur="checkUserName()" id="username" /><span id="user_span"></span>
			<br />
			密&nbsp;&nbsp;&nbsp;码:<input type="text" onblur="checkPwd()" id="pwd" /><span id="pwd_span"></span>
			<br />
			确认密码:<input type="text" onblur="checkRePwd()" id="repwd" /><span id="repwd_span"></span>
			<br />
			邮&nbsp;&nbsp;&nbsp;箱:<input type="text" onblur="checkEmail()" id="email" /><span id="email_span"></span>
			<br />
			<input type="submit" value="注册" />
		</form>
	</body>
</html>
